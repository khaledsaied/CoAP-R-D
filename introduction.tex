\section{Introduction}
The Internet of Things (IoT) is one of the larger focus areas in today's research of newer computer technology. One definition for IoT is interconnection of computing devices embedded in everyday objects via the Internet, enabling them to send and receive data.

According to Cisco, the amount of interconnected devices will be 50 billion by 2020 \cite{ciscoiot:online} \cite{Inter74:online}.

\IEEEPARstart{C}{\MakeLowercase{onstrained}} devices are an essential part of IoT and therefore there is focus on developing lightweight protocols which enables different connectivity models for constrained devices.  
Constrained Application Protocol (CoAP) \cite{rfc7252} is one of the emerging lightweight application protocols which is designed for machine-to-machine (M2M) applications for use in constrained environments.   

Previously research has been done \cite{interoperabilityChallenge} in the IoTivity framework which operates as a middleware trying to solve interoperability issues in the IoT. Interoperability is about making IoT devices able to connect to any other device or system independent of the used technologies and exchange information as desired, and this area has a potential great economic impact \cite{Unloc34:online}. 
Results from the research shows that IoTivity does not have the capability to communicate with the cloud in an appropriate way. 

IoTivity make use of the CoAP protocol as the only application protocol. 
A new version of the IoTivity framework has been published recently, where the community behind IoTivity has implemented a solution to connect IoT devices to the Cloud \cite{IoTiv3:online}. The solution was based on a newer draft for CoAP \cite{ietf-core-coap-tcp-tls-02} which presents a modified CoAP that runs over TCP instead of UDP, referenced as CoAP over TCP.
The TCP protocol is more complex compared with the UDP protocol and thus it is in general more resource consuming \cite{giannoulis2009tcp}.
%it is in general not easy to employ on constrained devices. 

% More details from papers about tcp vs udp memory consumption

% Bilal har en ide som han ikke Ã¸nsker!
In this paper we will investigate if it is advantageous to use TCP as a transport protocol in CoAP instead of UDP when CoAP is used for constrained IoT devices. This investigation will be done by analysing the two versions of the CoAP protocol using a \textcolor{red}{qualitative method, where the focus is on significant architectural differences}, and a quantitative analytic method with focus on memory and energy consumption. 

The rest of this paper is structured as follows.  Section 2 presents the UDP and TCP versions of CoAP protocol. Section 3 provides a qualitative comparison. Section 4 provides a quantitative analytic comparison of the two protocols. Section 5 discusses the results and concludes the paper.     
